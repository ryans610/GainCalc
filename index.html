<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Gini&amp;Gain</title>
	<style>
		form{
			border: 1px dot red;
		}
	</style>
</head>
<body>
	<form action="#" id="form1">
		<h3>Gini</h3>
		<label for="a">C1</label>
		<input type="number" id="a" min="0" step="1">
		<br>
		<label for="b">C2</label>
		<input type="number" id="b" min="0" step="1">
		<br>
		<button id="gini" type="submit">Gini</button>
		<br>
		<span id="result1"></span>
	</form>
	<form action="#" id="form2">
		<h3>Gain</h3>
		<table>
			<tr>
				<td></td>
				<td>N1</td>
				<td>N2</td>
			</tr>
			<tr>
				<td>C1</td>
				<td><input type="number" id="a1" min="0" step="1"></td>
				<td><input type="number" id="b1" min="0" step="1"></td>
			</tr>
			<tr>
				<td>C2</td>
				<td><input type="number" id="a2" min="0" step="1"></td>
				<td><input type="number" id="b2" min="0" step="1"></td>
			</tr>
		</table>
		<button id="gain" type="submit">Gain</button>
		<div id="result2"></div>
	</form>
	<script>
		function gini(a,b){
			a=parseInt(a);
			b=parseInt(b);
			var sum=a+b;
			return 1-Math.pow(a/sum,2)-Math.pow(b/sum,2);
		}
		function gain(a1,a2,b1,b2){
			a1=parseInt(a1);
			a2=parseInt(a2);
			b1=parseInt(b1);
			b2=parseInt(b2);
			var sum=a1+a2+b1+b2;
			return gini(a1+b1,a2+b2)-gini(a1,a2)*(a1+a2)/sum-gini(b1,b2)*(b1+b2)/sum;
		}
		document.getElementById("gini").addEventListener("click",function(e){
			e.preventDefault();
			document.getElementById("result1").innerHTML=gini(
				document.getElementById("a").value,
				document.getElementById("b").value);
		});
		document.getElementById("gain").addEventListener("click",function(e){
			e.preventDefault();
			document.getElementById("result2").innerHTML=gain(
				document.getElementById("a1").value,
				document.getElementById("a2").value,
				document.getElementById("b1").value,
				document.getElementById("b2").value);
		});
	</script>
</body>
</html>